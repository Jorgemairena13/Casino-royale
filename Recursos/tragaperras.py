import random
import time
import os
from rich.text import Text
from rich import print 
from rich.panel import Panel
from rich.align import Align
from prompt_toolkit import prompt
from prompt_toolkit.styles import Style
from rich.table import Table
from prompt_toolkit.completion import FuzzyWordCompleter
from rich.console import Console
from datetime import datetime
from time import sleep


console = Console()





def limpiar_pantalla():
    """Limpia la pantalla seg√∫n el sistema operativo."""
    os.system('cls' if os.name == 'nt' else 'clear')

class MaquinaTragaperras:
    def __init__(self):
        # Definimos los s√≠mbolos ASCII y sus valores correspondientes
        # Todos los ASCII art tienen exactamente 15 l√≠neas y 30 caracteres de ancho
        self.SIMBOLOS = {
            "CEREZA": {
                "ascii": [
                    "                              ",
                    "            [#27ff58]‚ñà‚ñà‚ñà[/]               ",
                    "         [#27ff58]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "      [#27ff58]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "     [#27ff58]‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]         ",
                    "    [#27ff58]‚ñà‚ñà   ‚ñà     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]        ",
                    "    [#27ff58]‚ñà‚ñà   ‚ñà        ‚ñà‚ñà[/]          ",
                    "   [#27ff58]‚ñà‚ñà    ‚ñà‚ñà[/]                   ",
                    "   [#ff0000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà‚ñà[/]          ",
                    "[#ff0000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "[#ff0000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]        ",
                    "[#ff0000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]        ",
                    "[#ff0000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "  [#ff0000]‚ñà‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]           ",
                    "          [#ff0000]‚ñà‚ñà‚ñà‚ñà[/]                "
                ],
                "emoji": "üçí",
                "valor": 10,
                "peso": 40
            },
            "CAMPANA": {
                "ascii": [
                    "                              ",
                    "            [#FFFF00]‚ñà‚ñà[/]                ",
                    "           [#FFFF00]‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "          [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "         [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]              ",
                    "[#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]     ",
                    "[#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]     ",
                    "  [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]        ",
                    "     [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "     [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "     [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "     [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "     [#FFFF00]‚ñà‚ñà‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "     [#FFFF00]‚ñà‚ñà           ‚ñà‚ñà[/]          ",
                    "                              "
                ],
                "emoji": "üîî",
                "valor": 20,
                "peso": 30
            },
            "DIAMANTE": {
                "ascii": [
                    "                              ",
                    "                              ",
                    "   [#28e1ff] ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]            ",
                    "   [#28e1ff]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]           ",
                    " [#28e1ff]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]         ",
                    "  [#28e1ff]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    "    [#28e1ff]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]            ",
                    "      [#28e1ff]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]              ",
                    "       [#28e1ff]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "         [#28e1ff]‚ñà‚ñà‚ñà‚ñà[/]                 ",
                    "                              ",
                    "                              ",
                    "                              ",
                    "                              ",
                    "                              "
                ],
                "emoji": "üíé",
                "valor": 100,
                "peso": 20
            },
            "TREBOL": {
                "ascii": [
                    "                              ",
                    "       [#008000]‚ñà‚ñà‚ñà‚ñà[/]                   ",
                    "    [#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "    [#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "     [#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "  [#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]             ",
                    "[#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]         ",
                    "[#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]        ",
                    "[#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]          ",
                    " [#008000]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]            ",
                    "  [#008000]‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]           ",
                    "       [#008000]‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà[/]             ",
                    "       [#008000]‚ñà‚ñà[/]                     ",
                    "                              ",
                    "                              "
                ],
                "emoji": "üçÄ",
                "valor": 50,
                "peso": 30
            },
            "DINERO": {
                "ascii": [
                    "                              ",
                    "   [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]          ",
                    "   [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]          ",
                    "  [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]           ",
                    "           [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]            ",
                    "          [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]             ",
                    "         [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]             ",
                    "        [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]              ",
                    "        [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]               ",
                    "       [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]                ",
                    "      [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]                ",
                    "     [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]                 ",
                    "     [#FFD700]‚ñà[#ff2626]‚ñà‚ñà‚ñà‚ñà‚ñà[#FFD700]‚ñà[/][/][/]                  ",
                    "                              ",
                    "                              "
                ],
                "emoji": "ü§ë",
                "valor": 200,
                "peso": 15
            },
            "TROFEO": {
                "ascii": [
                    "                              ",
                    "[#f8ff26]    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]           ",
                    "[#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]      ",
                    "[#f8ff26]‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà[/]      ",
                    "[#f8ff26]‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà[/]       ",
                    " [#f8ff26]‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà[/]        ",
                    "  [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]         ",
                    "        [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]               ",
                    "         [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà[/]                ",
                    "         [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà[/]                ",
                    "        [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]              ",
                    "      [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]             ",
                    "      [#f8ff26]‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[/]             ",
                    "                              ",
                    "                              "
                ],
                "emoji": "üèÜ",
                "valor": 200,
                "peso": 10
            }
        }
        
        # Convertimos el diccionario a listas para facilitar su uso
        self.simbolos_lista = list(self.SIMBOLOS.values())
        self.pesos = [s["peso"] for s in self.simbolos_lista]

    def maquina_slots(self, r, credito, ultima_tirada):
        """Dibuja la m√°quina tragaperras con los carretes dados."""
        simbolo_alto = 15  # Altura fija para todos los s√≠mbolos
        margen = "     "   # Espacio entre s√≠mbolos
        
        # Marco superior fijo
        marco_superior = """
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                                  üí•  M√ÅQUINA TRAGAPERRAS DEL BAR  üí•                                       ‚ïë
‚ïë‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïë
‚ïë                                                                                                            ‚ïë
‚ïë                                     üé∞  GIRANDO LOS CARRETES... üé∞                                         ‚ïë
‚ïë                                                                                                            ‚ïë
‚ïë‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïë
‚ïë                                                                                                            ‚ïë"""
        
        # Construimos las l√≠neas centrales con los s√≠mbolos
        lineas_centrales = []
        for i in range(simbolo_alto):
            linea = "‚ïë   "  # Margen izquierdo dentro del marco
            for col in range(3):
                # Accedemos a la l√≠nea i del s√≠mbolo en la posici√≥n central indice 1
                linea += r[col][1]["ascii"][i] + margen
            linea += "‚ïë" # Margen derecho
            lineas_centrales.append(linea)
        
        # Marco inferior con la informaci√≥n de premios
        marco_inferior = f"""
‚ïë‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïë
‚ïë                                             üí∞ PREMIOS üí∞                                                  ‚ïë
‚ïë           3 x üçí = 10 cr√©ditos        3 x üîî = 20 cr√©ditos         3 x üíé = 100 cr√©ditos                   ‚ïë
‚ïë           3 x üçÄ = 50 cr√©ditos        3 x 7 = 200 cr√©ditos         3 x üèÜ = 200 cr√©ditos                   ‚ïë
‚ïë‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïë
‚ïë üí≥ CR√âDITOS: {credito:<5}                                                  üéØ √öltimo resultado: {ultima_tirada:<4}              ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                              üé≤  [ PULSA ENTER PARA TIRAR DE NUEVO ]  üé≤                                   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"""
        
        return marco_superior + "\n" + "\n".join(lineas_centrales) + marco_inferior

    def animar_maquina(self, saldo_pasar, iteraciones=40, delay=0.01):
        """Anima los carretes dentro del marco ASCII."""
        ultima = None
        premio = 0
        
        # Bucle con las iteraciones para animar la maquina
        for _ in range(iteraciones):
            # Generamos carretes aleatorios basados en los pesos
            reels = [[random.choices(self.simbolos_lista, weights=self.pesos, k=1)[0] for _ in range(3)] for _ in range(3)]

            limpiar_pantalla()
            # Mostramos la maquina de slots 
            console.print(self.maquina_slots(reels, saldo_pasar, premio))

            # Guardamos la lista de la √∫ltima iteraci√≥n
            ultima = reels

            # Damos una pausa
            time.sleep(delay)
        
        # Muestra el resultado final fijo
        limpiar_pantalla()
        console.print(self.maquina_slots(ultima, saldo_pasar, premio))
        
        # Evaluamos los premios basados en los s√≠mbolos centrales
        simbolo1 = ultima[0][1]
        simbolo2 = ultima[1][1]
        simbolo3 = ultima[2][1]
        
        # Si los 3 son iguales damos m√°s premio
        if simbolo1 == simbolo2 == simbolo3:
            premio = simbolo1["valor"]
            console.print(f"¬°GANASTE {premio} CR√âDITOS!")
            
        # Comparamos que los 2 de la izquierda sean iguales
        elif simbolo1 == simbolo2:
            premio = simbolo1["valor"] // 2  # La mitad del valor
            console.print(f"¬°GANASTE {premio} CR√âDITOS!")
            
        # Comparamos los 2 del lado derecho si son iguales
        elif simbolo2 == simbolo3:
            premio = simbolo2["valor"] // 2  # La mitad del valor
            console.print(f"¬°GANASTE {premio} CR√âDITOS!")
        else:
            console.print("¬°Int√©ntalo de nuevo!")
        
        return premio